<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.ListView?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<HBox fx:id="rootView" alignment="TOP_LEFT" spacing="0" styleClass="main-content" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.bilibili.musicplayer.controller.LibraryController">
    <!-- 左侧导航栏 -->
    <VBox fx:id="librarySidebar" prefWidth="200" styleClass="library-sidebar" spacing="10">
        <padding>
            <Insets top="20" right="10" bottom="20" left="20"/>
        </padding>
        <Label text="音乐库" styleClass="sidebar-section-title"/>
        <Button text="本地音乐" fx:id="btnLocalMusic" prefWidth="200" styleClass="sidebar-sub-button">
            <graphic>
                <!-- 修正为 Ikonli 2.6.0 兼容的图标名称：mdi-music-note -->
                <FontIcon iconLiteral="mdi-music-note" iconSize="18"/>
            </graphic>
        </Button>
        <Button text="我喜欢" fx:id="btnFavorites" prefWidth="200" styleClass="sidebar-sub-button">
            <graphic>
                <!-- 修正为 Ikonli 2.6.0 兼容的图标名称：mdi-heart -->
                <FontIcon iconLiteral="mdi-heart" iconSize="18"/>
            </graphic>
        </Button>

        <Separator prefWidth="200" style="-fx-background-color: #444; -fx-padding: 5 0;"/>

        <HBox alignment="CENTER_LEFT" spacing="5">
            <Label text="播放列表" styleClass="sidebar-section-title"/>
            <Button fx:id="btnCreatePlaylist" styleClass="icon-button">
                <graphic>
                    <!-- 修正为 Ikonli 2.6.0 兼容的图标名称：mdi-plus -->
                    <FontIcon iconLiteral="mdi-plus" iconSize="18"/>
                </graphic>
            </Button>
        </HBox>

        <ListView fx:id="playlistListView" VBox.vgrow="ALWAYS" styleClass="playlist-list-view"/>

    </VBox>

    <!-- 右侧内容区域 -->
    <VBox HBox.hgrow="ALWAYS" alignment="TOP_CENTER" spacing="20">
        <padding>
            <Insets top="20" right="20" bottom="20" left="20"/>
        </padding>
        <Label fx:id="currentViewTitle" text="本地音乐" styleClass="view-title"/>

        <HBox alignment="CENTER_LEFT" spacing="5.0">
            <Label text="搜索:"/>
            <TextField fx:id="searchField" promptText="按标题或艺术家搜索..." HBox.hgrow="ALWAYS" styleClass="text-field"/>
        </HBox>

        <TableView fx:id="songTableView" VBox.vgrow="ALWAYS">
            <columns>
                <TableColumn text="标题" prefWidth="250">
                    <cellValueFactory>
                        <javafx.scene.control.cell.PropertyValueFactory property="title" />
                    </cellValueFactory>
                </TableColumn>
                <TableColumn text="艺术家" prefWidth="150">
                    <cellValueFactory>
                        <javafx.scene.control.cell.PropertyValueFactory property="artist" />
                    </cellValueFactory>
                </TableColumn>
                <TableColumn text="时长" prefWidth="80">
                    <cellValueFactory>
                        <javafx.scene.control.cell.PropertyValueFactory property="durationSeconds" />
                    </cellValueFactory>
                </TableColumn>
                <TableColumn text="下载日期" prefWidth="150">
                    <cellValueFactory>
                        <javafx.scene.control.cell.PropertyValueFactory property="downloadDate" />
                    </cellValueFactory>
                </TableColumn>
                <TableColumn text="文件路径" prefWidth="300">
                    <cellValueFactory>
                        <javafx.scene.control.cell.PropertyValueFactory property="localFilePath" />
                    </cellValueFactory>
                </TableColumn>
                <!-- 更多列可以根据需要添加 -->
            </columns>
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
            </columnResizePolicy>
        </TableView>

        <Label fx:id="statusLabel" text="加载音乐库..." styleClass="status-label"/>

    </VBox>
</HBox>
